import unittest
from src.Schedule import Schedule
from src.Week import Week
from src.ConstraintChecker import ConstraintChecker
from src.Ward import Ward
from src.Nurse import Nurse


class TooManyShiftsTest(unittest.TestCase):
    def setUp(self):
        self.schedule = Schedule()
        self.schedule.scheduleList = [['E','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#monday 1
                                      ['E','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['E','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['E','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#friday 5
                                      ['E','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['E','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#sunday 7
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['E','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['E','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['E','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#friday
                                      ['E','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#14
                                      ['E','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['E','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['E','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['E','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#friday
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['E','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#21
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['E','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['E','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['E','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#friday
                                      ['E','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#28
                                      ['E','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['E','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['E','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['E','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['E','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#35
                                      ]
        self.imported = Week()
        self.imported.importedWeek = [['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#monday 1
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#friday 5
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#sunday 7
                                      ]
        self.ward = Ward()
        self.ward.add_nurse(Nurse(0,"Janina", "Bąk",23,22,True))
        self.ward.add_nurse(Nurse(1,"Joanna", "Rabarbar",23,22,True))
        self.ward.add_nurse(Nurse(2,"Agnieszka","Hohenstein",23,22,True))
        self.ward.add_nurse(Nurse(3,"Ilona","Wojarska",23,22,True))
        self.ward.add_nurse(Nurse(4,"Adrianna","Markowska",23,22,True))
        self.ward.add_nurse(Nurse(5,"Marianna","terkalska",23,22,True))
        self.ward.add_nurse(Nurse(6,"Anna","Gronkiewicz",23,22,True))
        self.ward.add_nurse(Nurse(7,"Zofia","Górska",23,22,True))
        self.ward.add_nurse(Nurse(8,"Anastazja","Kuśmider",23,22,True))
        self.ward.add_nurse(Nurse(9,"Karolina","Igrekowska",23,22,True))
        self.ward.add_nurse(Nurse(10,"Martyna","Oleń",23,22,True))
        self.ward.add_nurse(Nurse(11,"Alicja","Gruszkiewicz",23,22,False))
        self.ward.add_nurse(Nurse(12,"Zyta","Bożek",20,20,True))
        self.ward.add_nurse(Nurse(13,"Brunhilda","Palas",13,12,True))
        self.ward.add_nurse(Nurse(14,"Kinga","Zegrzyńska",13,12,True))
        self.ward.add_nurse(Nurse(15,"Jagoda","Malinowska",13,12,True))

    def test_hard_constraint(self):
        self.constchecker = ConstraintChecker(self.ward,self.schedule,self.imported)
        errorcode,value = self.constchecker.checkHard()
        self.assertEqual(errorcode, -3)
        self.assertEqual(value, 0)

    def tearDown(self):
        del self.ward
        del self.constchecker
        del self.schedule
        del self.imported


class TooManyNightShiftsTest(unittest.TestCase):
    def setUp(self):
        self.schedule = Schedule()
        self.schedule.scheduleList = [['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#monday 1
                                      ['-','-','-','-','-','N','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','N','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#friday 5
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#sunday 7
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#friday
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#14
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','N','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#friday
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#21
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#friday
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#28
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','N','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#35
                                      ]
        self.imported = Week()
        self.imported.importedWeek = [['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#monday 1
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#friday 5
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#sunday 7
                                      ]
        self.ward = Ward()
        self.ward.add_nurse(Nurse(0,"Janina", "Bąk",23,22,True))
        self.ward.add_nurse(Nurse(1,"Joanna", "Rabarbar",23,22,True))
        self.ward.add_nurse(Nurse(2,"Agnieszka","Hohenstein",23,22,True))
        self.ward.add_nurse(Nurse(3,"Ilona","Wojarska",23,22,True))
        self.ward.add_nurse(Nurse(4,"Adrianna","Markowska",23,22,True))
        self.ward.add_nurse(Nurse(5,"Marianna","terkalska",23,22,True))
        self.ward.add_nurse(Nurse(6,"Anna","Gronkiewicz",23,22,True))
        self.ward.add_nurse(Nurse(7,"Zofia","Górska",23,22,True))
        self.ward.add_nurse(Nurse(8,"Anastazja","Kuśmider",23,22,True))
        self.ward.add_nurse(Nurse(9,"Karolina","Igrekowska",23,22,True))
        self.ward.add_nurse(Nurse(10,"Martyna","Oleń",23,22,True))
        self.ward.add_nurse(Nurse(11,"Alicja","Gruszkiewicz",23,22,False))
        self.ward.add_nurse(Nurse(12,"Zyta","Bożek",20,20,True))
        self.ward.add_nurse(Nurse(13,"Brunhilda","Palas",13,12,True))
        self.ward.add_nurse(Nurse(14,"Kinga","Zegrzyńska",13,12,True))
        self.ward.add_nurse(Nurse(15,"Jagoda","Malinowska",13,12,True))

    def test_hard_constraint(self):
        self.constchecker = ConstraintChecker(self.ward,self.schedule,self.imported)
        errorcode,value = self.constchecker.checkHard()
        self.assertEqual(errorcode, -4)
        self.assertEqual(value, 5)

    def tearDown(self):
        del self.ward
        del self.constchecker
        del self.schedule
        del self.imported


class TooFewWeekendsOffDuty(unittest.TestCase):
    def setUp(self):
        self.schedule = Schedule()
        self.schedule.scheduleList = [['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#monday 1
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#friday 5
                                      ['-','-','-','E','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','D','-','-','-','-','-','-','-','-','-','-','-','-'],#sunday 7
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','N','-','-','-','-','-','-','-','-','-','-','-','-'],#friday
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#14
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','N','-','-','-','-','-','-','-','-','-','-','-','-'],#friday
                                      ['-','-','-','E','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#21
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','E','-','-','-','-','-','-','-','-','-','-','-','-'],#friday
                                      ['-','-','-','N','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#28
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','E','-','-','-','-','-','-','-','-','-','-','-','-'],#35
                                      ]
        self.imported = Week()
        self.imported.importedWeek = [['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#monday 1
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#friday 5
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#sunday 7
                                      ]
        self.ward = Ward()
        self.ward.add_nurse(Nurse(0,"Janina", "Bąk",23,22,True))
        self.ward.add_nurse(Nurse(1,"Joanna", "Rabarbar",23,22,True))
        self.ward.add_nurse(Nurse(2,"Agnieszka","Hohenstein",23,22,True))
        self.ward.add_nurse(Nurse(3,"Ilona","Wojarska",23,22,True))
        self.ward.add_nurse(Nurse(4,"Adrianna","Markowska",23,22,True))
        self.ward.add_nurse(Nurse(5,"Marianna","terkalska",23,22,True))
        self.ward.add_nurse(Nurse(6,"Anna","Gronkiewicz",23,22,True))
        self.ward.add_nurse(Nurse(7,"Zofia","Górska",23,22,True))
        self.ward.add_nurse(Nurse(8,"Anastazja","Kuśmider",23,22,True))
        self.ward.add_nurse(Nurse(9,"Karolina","Igrekowska",23,22,True))
        self.ward.add_nurse(Nurse(10,"Martyna","Oleń",23,22,True))
        self.ward.add_nurse(Nurse(11,"Alicja","Gruszkiewicz",23,22,False))
        self.ward.add_nurse(Nurse(12,"Zyta","Bożek",20,20,True))
        self.ward.add_nurse(Nurse(13,"Brunhilda","Palas",13,12,True))
        self.ward.add_nurse(Nurse(14,"Kinga","Zegrzyńska",13,12,True))
        self.ward.add_nurse(Nurse(15,"Jagoda","Malinowska",13,12,True))

    def test_hard_constraint(self):
        self.constchecker = ConstraintChecker(self.ward,self.schedule,self.imported)
        errorcode,value = self.constchecker.checkHard()
        self.assertEqual(errorcode, -5)
        self.assertEqual(value, 3)

    def tearDown(self):
        del self.ward
        del self.constchecker
        del self.schedule
        del self.imported


class LateShiftRestTest(unittest.TestCase):
    def setUp(self):
        self.schedule = Schedule()
        self.schedule.scheduleList = [['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#monday 1
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','L','-'],#friday 5
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','L','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#sunday 7
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','L','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','N','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','L','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','L','D','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#friday
                                      ['-','-','-','-','-','-','-','-','-','-','L','D','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','L','-','-','-','-','-','-'],#14
                                      ['-','-','-','-','-','-','-','-','L','-','N','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','E','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','L','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#friday
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#21
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#friday
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#28
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#35
                                      ]
        self.imported = Week()
        self.imported.importedWeek = [['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#monday 1
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#friday 5
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#sunday 7
                                      ]
        self.ward = Ward()
        self.ward.add_nurse(Nurse(0,"Janina", "Bąk",23,22,True))
        self.ward.add_nurse(Nurse(1,"Joanna", "Rabarbar",23,22,True))
        self.ward.add_nurse(Nurse(2,"Agnieszka","Hohenstein",23,22,True))
        self.ward.add_nurse(Nurse(3,"Ilona","Wojarska",23,22,True))
        self.ward.add_nurse(Nurse(4,"Adrianna","Markowska",23,22,True))
        self.ward.add_nurse(Nurse(5,"Marianna","terkalska",23,22,True))
        self.ward.add_nurse(Nurse(6,"Anna","Gronkiewicz",23,22,True))
        self.ward.add_nurse(Nurse(7,"Zofia","Górska",23,22,True))
        self.ward.add_nurse(Nurse(8,"Anastazja","Kuśmider",23,22,True))
        self.ward.add_nurse(Nurse(9,"Karolina","Igrekowska",23,22,True))
        self.ward.add_nurse(Nurse(10,"Martyna","Oleń",23,22,True))
        self.ward.add_nurse(Nurse(11,"Alicja","Gruszkiewicz",23,22,False))
        self.ward.add_nurse(Nurse(12,"Zyta","Bożek",20,20,True))
        self.ward.add_nurse(Nurse(13,"Brunhilda","Palas",13,12,True))
        self.ward.add_nurse(Nurse(14,"Kinga","Zegrzyńska",13,12,True))
        self.ward.add_nurse(Nurse(15,"Jagoda","Malinowska",13,12,True))

    def test_hard_constraint(self):
        self.constchecker = ConstraintChecker(self.ward,self.schedule,self.imported)
        errorcode,value = self.constchecker.checkHard()
        self.assertEqual(errorcode, -6)
        self.assertEqual(value, 12)

    def tearDown(self):
        del self.ward
        del self.constchecker
        del self.schedule
        del self.imported


class NightShiftRestTest(unittest.TestCase):
    def setUp(self):
        self.schedule = Schedule()
        self.schedule.scheduleList = [['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#monday 1
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#friday 5
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','N','N','-','-','-','-','-','-','-','-','-','-','-'],#sunday 7
                                      ['-','-','-','N','E','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','N','N','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','D','L','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','N','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#friday
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#14
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#friday
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#21
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#friday
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#28
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#35
                                      ]
        self.imported = Week()
        self.imported.importedWeek = [['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#monday 1
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#friday 5
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#sunday 7
                                      ]
        self.ward = Ward()
        self.ward.add_nurse(Nurse(0,"Janina", "Bąk",23,22,True))
        self.ward.add_nurse(Nurse(1,"Joanna", "Rabarbar",23,22,True))
        self.ward.add_nurse(Nurse(2,"Agnieszka","Hohenstein",23,22,True))
        self.ward.add_nurse(Nurse(3,"Ilona","Wojarska",23,22,True))
        self.ward.add_nurse(Nurse(4,"Adrianna","Markowska",23,22,True))
        self.ward.add_nurse(Nurse(5,"Marianna","terkalska",23,22,True))
        self.ward.add_nurse(Nurse(6,"Anna","Gronkiewicz",23,22,True))
        self.ward.add_nurse(Nurse(7,"Zofia","Górska",23,22,True))
        self.ward.add_nurse(Nurse(8,"Anastazja","Kuśmider",23,22,True))
        self.ward.add_nurse(Nurse(9,"Karolina","Igrekowska",23,22,True))
        self.ward.add_nurse(Nurse(10,"Martyna","Oleń",23,22,True))
        self.ward.add_nurse(Nurse(11,"Alicja","Gruszkiewicz",23,22,False))
        self.ward.add_nurse(Nurse(12,"Zyta","Bożek",20,20,True))
        self.ward.add_nurse(Nurse(13,"Brunhilda","Palas",13,12,True))
        self.ward.add_nurse(Nurse(14,"Kinga","Zegrzyńska",13,12,True))
        self.ward.add_nurse(Nurse(15,"Jagoda","Malinowska",13,12,True))

    def test_hard_constraint(self):
        self.constchecker = ConstraintChecker(self.ward,self.schedule,self.imported)
        errorcode,value = self.constchecker.checkHard()
        self.assertEqual(errorcode, -7)
        self.assertEqual(value, 4)

    def tearDown(self):
        del self.ward
        del self.constchecker
        del self.schedule
        del self.imported


class NightShiftSeriesRestTest(unittest.TestCase):
    def setUp(self):
        self.schedule = Schedule()
        self.schedule.scheduleList = [['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#monday 1
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#friday 5
                                      ['-','-','-','-','-','-','-','-','N','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','N','-','-','-','-','-','-','-'],#sunday 7
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','E','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#friday
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#14
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#friday
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#21
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#friday
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#28
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#35
                                      ]
        self.imported = Week()
        self.imported.importedWeek = [['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#monday 1
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#friday 5
                                      ['-','-','-','-','-','-','-','-','N','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','N','-','-','-','-','-','-','-'],#sunday 7
                                      ]
        self.ward = Ward()
        self.ward.add_nurse(Nurse(0,"Janina", "Bąk",23,22,True))
        self.ward.add_nurse(Nurse(1,"Joanna", "Rabarbar",23,22,True))
        self.ward.add_nurse(Nurse(2,"Agnieszka","Hohenstein",23,22,True))
        self.ward.add_nurse(Nurse(3,"Ilona","Wojarska",23,22,True))
        self.ward.add_nurse(Nurse(4,"Adrianna","Markowska",23,22,True))
        self.ward.add_nurse(Nurse(5,"Marianna","terkalska",23,22,True))
        self.ward.add_nurse(Nurse(6,"Anna","Gronkiewicz",23,22,True))
        self.ward.add_nurse(Nurse(7,"Zofia","Górska",23,22,True))
        self.ward.add_nurse(Nurse(8,"Anastazja","Kuśmider",23,22,True))
        self.ward.add_nurse(Nurse(9,"Karolina","Igrekowska",23,22,True))
        self.ward.add_nurse(Nurse(10,"Martyna","Oleń",23,22,True))
        self.ward.add_nurse(Nurse(11,"Alicja","Gruszkiewicz",23,22,False))
        self.ward.add_nurse(Nurse(12,"Zyta","Bożek",20,20,True))
        self.ward.add_nurse(Nurse(13,"Brunhilda","Palas",13,12,True))
        self.ward.add_nurse(Nurse(14,"Kinga","Zegrzyńska",13,12,True))
        self.ward.add_nurse(Nurse(15,"Jagoda","Malinowska",13,12,True))

    def test_hard_constraint(self):
        self.constchecker = ConstraintChecker(self.ward,self.schedule,self.imported)
        errorcode,value = self.constchecker.checkHard()
        self.assertEqual(errorcode, -8)
        self.assertEqual(value, 8)

    def tearDown(self):
        del self.ward
        del self.constchecker
        del self.schedule
        del self.imported


class ShiftSeriesMaxTest(unittest.TestCase):
    def setUp(self):
        self.schedule = Schedule()
        self.schedule.scheduleList = [['-','-','-','-','-','-','-','E','-','E','-','-','-','-','-','-'],#monday 1
                                      ['-','-','-','-','-','-','-','E','-','E','-','-','-','-','-','-'],
                                      ['-','-','-','-','E','-','-','E','-','E','-','-','-','-','-','-'],
                                      ['-','-','-','-','E','-','-','-','-','E','-','-','-','-','-','-'],
                                      ['-','-','-','-','E','-','-','-','-','E','-','-','-','-','-','-'],#friday 5
                                      ['-','-','-','-','E','-','-','-','-','E','-','-','-','-','-','-'],
                                      ['-','-','-','-','E','-','-','-','-','-','-','-','-','-','-','-'],#sunday 7
                                      ['-','-','-','-','E','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#friday
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#14
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#friday
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#21
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#friday
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#28
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#35
                                      ]
        self.imported = Week()
        self.imported.importedWeek = [['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],#monday 1
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','E','-','-','-','-','-','-','-','-'],#friday 5
                                      ['-','-','-','-','-','-','-','E','-','-','-','-','-','-','-','-'],
                                      ['-','-','-','-','-','-','-','E','-','E','-','-','-','-','-','-'],#sunday 7
                                      ]
        self.ward = Ward()
        self.ward.add_nurse(Nurse(0,"Janina", "Bąk",23,22,True))
        self.ward.add_nurse(Nurse(1,"Joanna", "Rabarbar",23,22,True))
        self.ward.add_nurse(Nurse(2,"Agnieszka","Hohenstein",23,22,True))
        self.ward.add_nurse(Nurse(3,"Ilona","Wojarska",23,22,True))
        self.ward.add_nurse(Nurse(4,"Adrianna","Markowska",23,22,True))
        self.ward.add_nurse(Nurse(5,"Marianna","terkalska",23,22,True))
        self.ward.add_nurse(Nurse(6,"Anna","Gronkiewicz",23,22,True))
        self.ward.add_nurse(Nurse(7,"Zofia","Górska",23,22,True))
        self.ward.add_nurse(Nurse(8,"Anastazja","Kuśmider",23,22,True))
        self.ward.add_nurse(Nurse(9,"Karolina","Igrekowska",23,22,True))
        self.ward.add_nurse(Nurse(10,"Martyna","Oleń",23,22,True))
        self.ward.add_nurse(Nurse(11,"Alicja","Gruszkiewicz",23,22,False))
        self.ward.add_nurse(Nurse(12,"Zyta","Bożek",20,20,True))
        self.ward.add_nurse(Nurse(13,"Brunhilda","Palas",13,12,True))
        self.ward.add_nurse(Nurse(14,"Kinga","Zegrzyńska",13,12,True))
        self.ward.add_nurse(Nurse(15,"Jagoda","Malinowska",13,12,True))

    def test_hard_constraint(self):
        self.constchecker = ConstraintChecker(self.ward,self.schedule,self.imported)
        errorcode,value = self.constchecker.checkHard()
        self.assertEqual(errorcode, -9)
        self.assertEqual(value, 9)

    def tearDown(self):
        del self.ward
        del self.constchecker
        del self.schedule
        del self.imported

if __name__ == '__main__':
    unittest.main()
